<?xml version="1.0" encoding="utf-8"?>
<s:MXTreeItemRenderer  contentBackgroundAlpha="1"
	autoDrawBackground="false"  width="100%"
	xmlns:fx="http://ns.adobe.com/mxml/2009" 
	xmlns:s="library://ns.adobe.com/flex/spark"
	xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:controls="org.mig.view.controls.*">

	<fx:Script>
		<![CDATA[
			public function set editable(value:Boolean):void {
				labelField.visible = !value;
				input.visible = value;
				overFill.visible = bgFill.visible = !value;
			}
		]]>
	</fx:Script>
	<s:states>
		<s:State name="normal" />            
		<s:State name="hovered" />
		<s:State name="selected" />
	</s:states>
	<s:transitions>
		<s:Transition toState="hovered">
			<s:Fade target="{overFill}"  duration="300" />
		</s:Transition>
	</s:transitions>
	
	<s:Rect  left="0" right="0" top="0" bottom="0" id="bgFill">
		<s:fill>
			<s:LinearGradient rotation="90">
				<s:GradientEntry color="0xFFFFFF" />
				<s:GradientEntry color="0xD9D9D9" />
			</s:LinearGradient>
		</s:fill>
	</s:Rect>
	<s:Rect  left="0" right="0" top="0" bottom="0" alpha="0" alpha.selected="1" alpha.hovered="0.5" id="overFill">
		<s:fill>
			<s:LinearGradient rotation="90">
				<s:GradientEntry color="0xED1C58" />		
				<s:GradientEntry color="0xBD1E53" />
			</s:LinearGradient>
		</s:fill>
	</s:Rect>
	
	<s:HGroup left="0" right="0" top="0" bottom="0" verticalAlign="middle" gap="3" >	
		<s:Rect id="indentationSpacer" width="{treeListData.indent}" percentHeight="100" alpha="0">
			<s:fill>
				<s:SolidColor color="0xFFFFFF" />
			</s:fill>
		</s:Rect>
		<s:Group id="disclosureGroup" >
			<s:BitmapImage source="{data.hasChildren?treeListData.disclosureIcon:null}" visible="{data.hasChildren}"  />
		</s:Group>
		<s:BitmapImage source="{data.isRoot?treeListData.icon:null}" visible="{data.isRoot}" includeInLayout="{data.isRoot}" />
		<s:Group width="100%">
			<s:Label id="labelField"  verticalCenter="0"  text="{treeListData.label}"  maxDisplayedLines="1" width="100%" 
			color="0x3F3F3F" color.selected="0xFFFFFF" color.hovered="0xFFFFFF" styleName="boldCopy"  />
			<s:TextInput width="100%" styleName="inputFieldBlack" verticalCenter="0" visible="false" color="0xFFFFFF" 
			id="input" text="{data.baseLabel}" focusOut="editable=false" enter="editable=false" change="data.baseLabel=input.text"  />			
		</s:Group>
		<controls:Spinner tickColor="0x333333" size="20" tickWidth="2" numTicks="10" visible="{data.state == 1?true:false}"   autoPlay="true" />
<!--		<s:Ellipse width="15" height="15" id="stateIndicator">
			<s:fill>
				<s:SolidColor color="{data.state==0?0xE60B0B:(data.state==1?0xF8B207:0x1EE40D)}" />
			</s:fill>
		</s:Ellipse>-->
		<s:Rect width="5" />
	</s:HGroup>
</s:MXTreeItemRenderer>
